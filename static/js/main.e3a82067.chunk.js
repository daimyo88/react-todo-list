(this["webpackJsonpreact-todo-list"]=this["webpackJsonpreact-todo-list"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,a){e.exports=a(39)},,,,,function(e,t,a){},,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(13),c=a.n(i),l=(a(19),a(2)),s=a(3),o=a(4),u=a(5),m=a(9),d=a(7),p=(a(23),a(24),a(25),function(e){return e.children}),k=(a(26),function(e){var t=["ButtonContainer"];return t.push(e.type),r.a.createElement("div",{className:t.join(" ")},e.children)}),f=(a(27),function(e){var t=["Button"];return t.push(e.type),r.a.createElement("button",{className:t.join(" "),onClick:e.clickHandler},e.title)}),h=(a(28),function(e){return r.a.createElement("div",{className:"Modal"},e.children)}),E=(a(29),function(e){return r.a.createElement("div",{className:"Backdrop",onClick:e.clickHandler})}),v=(a(30),a(6)),g=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this)).toggleModal=function(e){n.setState({modal:e})},n.state={modal:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"UserLogout"},r.a.createElement("div",{className:"user"},"Hello, ",this.props.user),r.a.createElement(v.a,{icon:"sign-out-alt",onClick:function(){return e.toggleModal(!0)}})),a=!0===this.state.modal?r.a.createElement(p,null,r.a.createElement(E,{clickHandler:function(){return e.toggleModal(!1)}}),r.a.createElement(h,null,r.a.createElement("p",null,"Do you want to logout? ",r.a.createElement("br",null)," All tasks will be deleted"),r.a.createElement(k,{type:"center"},r.a.createElement(f,{type:"confirm",title:"ok",clickHandler:this.props.logout}),r.a.createElement(f,{type:"decline",title:"cancel",clickHandler:function(){return e.toggleModal(!1)}})))):null;return r.a.createElement(p,null,t,a)}}]),a}(n.Component),b=function(e){return r.a.createElement("div",{className:"Header"},r.a.createElement("div",{className:"logo"},"YTDL"),null!==e.user?r.a.createElement(g,{user:e.user,logout:e.logout}):null)},y=(a(33),function(){return r.a.createElement("div",{className:"Footer"},"\xa9 2020 DDNF dev.")}),T=a(8),H=(a(34),a(35),function(e){return r.a.createElement("div",{className:"TaskControls"},""!==e.task.description?r.a.createElement("div",{className:"item description-toggler",onClick:function(){return e.toggleDescription(e.task.id)}},r.a.createElement(v.a,{icon:"chevron-down"})):null,!1===e.task.status?r.a.createElement("div",{className:"item",onClick:function(){e.setAction("complete")}},r.a.createElement(v.a,{icon:"check"})):r.a.createElement("div",{className:"item",onClick:function(){e.setAction("incomplete")}},r.a.createElement(v.a,{icon:"arrow-up"})),r.a.createElement("div",{className:"item",onClick:function(){e.setAction("editTask")}},r.a.createElement(v.a,{icon:"pen"})),r.a.createElement("div",{className:"item",onClick:function(){e.setAction("delete")}},r.a.createElement(v.a,{icon:"trash"})))}),N=function(e){var t=["Task"];t.push("Task priority-"+e.task.priority),!0===e.task.status&&t.push("complete"),!0===e.task.descriptionOpen&&t.push("description-open");var a=r.a.createElement("div",{className:"main-bar",onClick:function(t){return e.setCurrentTask(e.task)}},r.a.createElement("h3",null,e.task.title),r.a.createElement(H,{task:e.task,toggleDescription:e.toggleDescription,setAction:e.setAction})),n=""!==e.task.description&&!0===e.task.descriptionOpen?r.a.createElement("div",{className:"description"},e.task.description):null;return r.a.createElement("div",{className:t.join(" ")},a,n)},S=a(10),O=(a(36),function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).formChangeHandler=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(S.a)({},r,a))},n.submitHandler=function(){var e={title:n.state.title,description:n.state.description,priority:n.state.priority,id:n.state.id,status:n.state.status};""!==e.title?(n.props.submitHandler(e),n.props.cancelHandler()):n.setState({validationError:!0})},n.cancelHandler=function(){n.props.cancelHandler()},n.defaultSubmit=function(e){e.preventDefault()},n.state={title:"",description:"",priority:"0",validationError:!1,id:"",status:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){if(""!==this.props.task){var e=this.props.task,t=e.title,a=e.description,n=e.priority,r=e.id,i=e.status;this.setState({title:t,description:a,priority:n,id:r,status:i})}}},{key:"render",value:function(){return r.a.createElement(p,null,r.a.createElement("form",{onSubmit:this.defaultSubmit,className:"TaskForm"},r.a.createElement("div",{className:"input-block"},r.a.createElement("div",{className:"input-label"},"Title"),!0===this.state.validationError?r.a.createElement("div",{className:"validation-message"},"This field should not be empty"):null,r.a.createElement("input",{onChange:this.formChangeHandler,type:"text",name:"title",value:this.state.title})),r.a.createElement("div",{className:"input-block"},r.a.createElement("div",{className:"input-label"},"Description"),r.a.createElement("textarea",{onChange:this.formChangeHandler,name:"description",value:this.state.description})),r.a.createElement("div",{className:"input-block"},r.a.createElement("div",{className:"input-label additional-margin"},"Priority"),r.a.createElement("div",{className:"checkbox-item priority-high"},r.a.createElement("input",{onChange:this.formChangeHandler,name:"priority",type:"radio",value:"0",id:"priority-0",checked:"0"===this.state.priority}),r.a.createElement("label",{htmlFor:"priority-0"},"High")),r.a.createElement("div",{className:"checkbox-item priority-medium"},r.a.createElement("input",{onChange:this.formChangeHandler,name:"priority",type:"radio",value:"1",id:"priority-1",checked:"1"===this.state.priority}),r.a.createElement("label",{htmlFor:"priority-1"},"Medium")),r.a.createElement("div",{className:"checkbox-item priority-low"},r.a.createElement("input",{onChange:this.formChangeHandler,name:"priority",type:"radio",value:"2",id:"priority-2",checked:"2"===this.state.priority}),r.a.createElement("label",{htmlFor:"priority-2"},"Low")))),r.a.createElement(k,{type:"center"},r.a.createElement(f,{type:"confirm",title:"Ok",clickHandler:this.submitHandler}),r.a.createElement(f,{type:"decline",title:"Cancel",clickHandler:this.cancelHandler})))}}]),a}(n.Component)),C=(a(37),function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setAction=function(t){e.setState((function(e){return{currentAction:t}}))},e.resetAction=function(t){e.setState((function(e){return{currentAction:"",currentTask:""}}))},e.setCurrentTask=function(t){e.setState((function(e){return{currentTask:t}}))},e.toggleDescription=function(t){var a=Object(T.a)(e.state.tasks),n=a.findIndex((function(e){return e.id===t}));a[n].descriptionOpen=!a[n].descriptionOpen,e.setState((function(t){return e.setTasksToStorage(a),{tasks:a}}))},e.deleteTask=function(t){var a=Object(T.a)(e.state.tasks),n=a.findIndex((function(e){return e.id===t}));a.splice(n,1),e.setState((function(t){return e.setTasksToStorage(a),{tasks:a,currentAction:"",currentTask:""}}))},e.changeStatusTask=function(t,a){var n=Object(T.a)(e.state.tasks),r=n.findIndex((function(e){return e.id===t}));n[r].status=a,e.setState((function(t){return e.setTasksToStorage(n),{tasks:n,currentAction:"",currentTask:""}}))},e.editTask=function(t){e.setState((function(a){var n=Object(T.a)(a.tasks),r=n.findIndex((function(e){return e.id===t.id}));return n[r]=t,e.setTasksToStorage(n),{tasks:n}}))},e.addNewTask=function(t){t.id=Date.now(),t.status=!1,e.setState((function(a){var n=Object(T.a)(a.tasks);return n.unshift(t),e.setTasksToStorage(n),{tasks:n}}))},e.setTasksToStorage=function(e){var t=JSON.stringify(e);localStorage.setItem("tasks",t)},e.state={currentTask:"",currentAction:"",tasks:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("tasks"))||[];this.setState((function(t){return{tasks:e}}))}},{key:"render",value:function(){var e=this,t=this.state.tasks.filter((function(e){return!1===e.status?e:null})),a="";switch(this.state.currentAction){case"delete":a=r.a.createElement(p,null,r.a.createElement("p",null,"Do you realy want to delete task ",r.a.createElement("b",null,this.state.currentTask.title)," ?"),r.a.createElement(k,{type:"center"},r.a.createElement(f,{type:"confirm",title:"ok",clickHandler:function(){return e.deleteTask(e.state.currentTask.id)}}),r.a.createElement(f,{type:"decline",title:"cancel",clickHandler:this.resetAction})));break;case"complete":a=r.a.createElement(p,null,r.a.createElement("p",null,"Do you realy want to mark task ",r.a.createElement("b",null,this.state.currentTask.title)," as complete?"),r.a.createElement(k,{type:"center"},r.a.createElement(f,{type:"confirm",title:"ok",clickHandler:function(){return e.changeStatusTask(e.state.currentTask.id,!0)}}),r.a.createElement(f,{type:"decline",title:"cancel",clickHandler:this.resetAction})));break;case"incomplete":a=r.a.createElement(p,null,r.a.createElement("p",null,"Do you realy want to mark task ",r.a.createElement("b",null,this.state.currentTask.title)," as not complete?"),r.a.createElement(k,{type:"center"},r.a.createElement(f,{type:"confirm",title:"ok",clickHandler:function(){return e.changeStatusTask(e.state.currentTask.id,!1)}}),r.a.createElement(f,{type:"decline",title:"cancel",clickHandler:this.resetAction})));break;case"editTask":a=r.a.createElement(O,{submitHandler:this.editTask,cancelHandler:this.resetAction,task:this.state.currentTask});break;case"newTask":a=r.a.createElement(O,{submitHandler:this.addNewTask,cancelHandler:this.resetAction,task:this.state.currentTask});break;default:a=""}var n=r.a.createElement("div",{className:"todo-list-header"},r.a.createElement("p",null,"You have ",t.length," task(s) to do: "),r.a.createElement(k,null,r.a.createElement(f,{type:"confirm",title:"add new task",clickHandler:function(){return e.setAction("newTask")}}))),i=Object(T.a)(this.state.tasks);i=i.sort((function(e,t){return e.priority-t.priority})).sort((function(e,t){return e.status-t.status})).map((function(t,a){return r.a.createElement(N,{setCurrentTask:function(t){return e.setCurrentTask(t)},key:a,task:t,toggleDescription:e.toggleDescription,setAction:function(t){return e.setAction(t)}})}));var c=""!==this.state.currentAction?r.a.createElement(p,null,r.a.createElement(E,{clickHandler:this.resetAction}),r.a.createElement(h,{confirmHandler:function(t){return e.state.modals.handler}},a)):null;return r.a.createElement(p,null,n,i,c)}}]),a}(n.Component)),j=(a(38),function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this)).defaultSubmit=function(e){e.preventDefault()},n.changeHandler=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(S.a)({},r,a))},n.submitHandler=function(){var e=n.state.username;""!==e?n.props.submitHandler(e):n.setState({validationError:!0})},n.state={username:"",validationError:!1},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"UserLogin"},r.a.createElement("h3",null,"Welcome!"),r.a.createElement("p",null,"To start work please enter your name: "),r.a.createElement("form",{onSubmit:this.defaultSubmit},r.a.createElement("div",{className:"input-block"},!0===this.state.validationError?r.a.createElement("div",{className:"validation-message"},"This field should not be empty"):null,r.a.createElement("input",{onChange:this.changeHandler,type:"text",name:"username",value:this.state.username}))),r.a.createElement(k,{type:"center"},r.a.createElement(f,{type:"confirm",title:"Enter",clickHandler:this.submitHandler})))}}]),a}(n.Component)),A=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setUser=function(e){localStorage.setItem("user",e)},e.checkUser=function(){var t=localStorage.getItem("user");e.setState({user:t})},e.logout=function(){localStorage.clear(),e.checkUser()},e.userLogin=function(t){e.setUser(t),e.checkUser()},e.state={user:null},e.library=m.b,e}return Object(s.a)(a,[{key:"render",value:function(){this.library.add(d.e,d.f,d.d,d.b,d.a,d.c);var e=null!==this.state.user?r.a.createElement(C,null):r.a.createElement(j,{submitHandler:this.userLogin});return r.a.createElement("div",{className:"App"},r.a.createElement(b,{user:this.state.user,logout:this.logout}),r.a.createElement("main",null,e),r.a.createElement(y,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[14,1,2]]]);
//# sourceMappingURL=main.e3a82067.chunk.js.map